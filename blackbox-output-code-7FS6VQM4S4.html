<script>
    function searchMovies() {
        const query = document.getElementById('search').value.toLowerCase();
        const movies = document.querySelectorAll('.movie');
        movies.forEach(movie => {
            const title = movie.querySelector('h3').textContent.toLowerCase();
            movie.style.display = title.includes(query) ? 'block' : 'none';
        });
    }
    
    function showUploadForm() {
        const password = prompt("Enter admin password:");
        if (password === "7484") {  // Updated to your password
            document.getElementById('uploadForm').style.display = 'block';
        } else {
            alert("Incorrect password. Access denied.");
        }
    }
    
    function hideUploadForm() {
        document.getElementById('uploadForm').style.display = 'none';
    }
    
    function uploadMovie() {
        const title = document.getElementById('movieTitle').value;
        const genre = document.getElementById('movieGenre').value;
        const year = document.getElementById('movieYear').value;
        const poster = document.getElementById('moviePoster').files[0];
        const video = document.getElementById('movieVideo').files[0];
        
        if (!title || !year || !poster || !video) {
            alert("Please fill all fields and select files.");
            return;
        }
        
        // In a real app, send this data to a server for processing/storage.
        // For demo, we'll simulate adding to the page (files won't actually upload).
        const posterURL = URL.createObjectURL(poster);  // Temporary local URL
        const videoURL = URL.createObjectURL(video);    // Temporary local URL
        
        const movieList = document.getElementById('movieList');
        const newMovie = document.createElement('div');
        newMovie.className = 'movie';
        newMovie.innerHTML = `
            <img src="${posterURL}" alt="Movie Poster">
            <h3>${title}</h3>
            <p>Genre: ${genre} | Year: ${year}</p>
            <div class="video">
                <video controls width="100%" height="200">
                    <source src="${videoURL}" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
            </div>
        `;
        movieList.appendChild(newMovie);
        
        // Reset form
        document.getElementById('movieTitle').value = '';
        document.getElementById('movieYear').value = '';
        document.getElementById('moviePoster').value = '';
        document.getElementById('movieVideo').value = '';
        hideUploadForm();
        alert("Movie uploaded successfully! (Demo only - not saved permanently)");
    }
</script>